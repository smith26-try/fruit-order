<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover">
<meta name="theme-color" content="#0b72ff">
<link rel="manifest" href="manifest.webmanifest">
<title>‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå ‚Ä¢ ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≤‡∏ô</title>
<style>
/* ---- CSS ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÅ‡∏ö‡∏ö App ---- */
:root { --brand:#0b72ff; --brand-ink:#fff; --bg:#f6f7f9; --card:#fff; --ink:#101828; --muted:#667085; --line:#e6e8eb; --ok:#0a7f53; }
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans Thai",sans-serif;}
.appbar{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;background:var(--card);padding:env(safe-area-inset-top) 16px 10px;border-bottom:1px solid var(--line);}
.appbar .title{font-size:18px;font-weight:800;}
.container{padding:12px 16px 120px;max-width:920px;margin:0 auto;}
.group{margin-bottom:12px;}
.label{font-size:13px;color:var(--muted);margin:8px 0 6px;font-weight:700;text-transform:uppercase;}
.card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:12px;box-shadow:0 1px 2px rgba(0,0,0,.03);}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
@media(max-width:640px){.grid2{grid-template-columns:1fr;}}
input,textarea{width:100%;border:1px solid #dfe3e6;border-radius:12px;padding:14px 12px;font-size:16px;outline:none;background:#fff;}
textarea{min-height:88px;resize:vertical;}
.product-list{display:grid;gap:10px;}
.product{display:grid;grid-template-columns:1fr auto auto;gap:10px;align-items:center;padding:10px 12px;border:1px solid #eef1f4;border-radius:14px;background:#fff;}
.product .name{font-weight:700;}
.price{color:var(--ok);font-weight:800;min-width:64px;text-align:right;}
.step{display:inline-flex;gap:8px;align-items:center;border:1px solid #e1e6ec;border-radius:999px;padding:4px;background:#fff;}
.step button{width:36px;height:36px;border-radius:999px;border:none;font-size:20px;cursor:pointer;background:#eef2f7;}
.step input{width:56px;border:none;text-align:center;font-size:16px;padding:0;}
.subtotal{color:#0a7;font-weight:800;min-width:96px;text-align:right;}
.sheet{position:fixed;left:0;right:0;bottom:0;z-index:20;background:var(--card);border-top:1px solid var(--line);padding:10px 16px calc(10px + env(safe-area-inset-bottom));display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center;}
.pill{background:#f0f3f6;border:1px solid #e1e6ec;padding:6px 10px;border-radius:999px;font-weight:800;}
.primary{background:var(--brand);color:var(--brand-ink);border:none;padding:14px 16px;border-radius:12px;font-weight:800;font-size:16px;cursor:pointer;min-width:160px;}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:70px;background:#111;color:#fff;padding:10px 14px;border-radius:999px;font-size:14px;opacity:0;transition:.2s;z-index:40;}
.toast.show{opacity:1;}
.modal{position:fixed;inset:0;z-index:50;display:none;background:rgba(0,0,0,.3);}
.modal.open{display:grid;place-items:end center;}
.modal .panel{width:100%;max-width:920px;background:var(--card);border-radius:16px 16px 0 0;padding:16px;border-top:1px solid var(--line);}
.panel h2{margin:0 0 8px;font-size:18px;}
.panel textarea{width:100%;min-height:220px;font-family:ui-monospace,Menlo,Consolas,"SF Mono",monospace;}
.btn{padding:12px 14px;border-radius:12px;border:1px solid #d9dee6;background:#eef2f7;font-weight:700;cursor:pointer;}
.btn.danger{background:#fee2e2;border-color:#fecaca;color:#991b1b;}
</style>
</head>
<body>
  <div class="appbar"><div class="title">‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</div><div class="muted">Fruit Ready v7</div></div>
  <div class="container">
    <div class="group card">
      <div class="grid2">
        <div><div class="label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</div><input id="date" type="date"></div>
        <div><div class="label">‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</div><input id="name" type="text"></div>
        <div><div class="label">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</div><input id="phone" type="tel"></div>
        <div><div class="label">‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á</div><input id="shipping" type="number" min="0" step="1" value="0"></div>
        <div style="grid-column:1/-1"><div class="label">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</div><textarea id="address"></textarea></div>
      </div>
    </div>
    <div class="group">
      <div class="label">‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</div>
      <div class="product-list" id="products"></div>
    </div>
  </div>
  <div class="sheet">
    <div class="pill">‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: <span id="grandTotal">‡∏ø0</span></div>
    <button id="buildBtn" class="primary">‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</button>
  </div>
  <div id="toast" class="toast">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß</div>
  <div id="modal" class="modal"><div class="panel"><h2>‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h2><textarea id="output" readonly></textarea><div class="actions"><button class="btn" id="copyBtn">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button><button class="btn" id="closeBtn">‡∏õ‡∏¥‡∏î</button><button class="btn danger" id="resetBtn">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button></div></div></div>
<script>
document.addEventListener('DOMContentLoaded',()=>{
  if('serviceWorker' in navigator){navigator.serviceWorker.register('./sw.js');}
  const PRODUCTS=[{name:'‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏•‡πá‡∏Å',price:39},{name:'‡∏ù‡∏£‡∏±‡πà‡∏á‡πÉ‡∏´‡∏ç‡πà',price:69},{name:'‡∏Å‡∏£‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ó‡∏£‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á',price:69},{name:'‡∏Å‡∏£‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ô‡πâ‡∏≥‡∏õ‡∏•‡∏≤‡∏´‡∏ß‡∏≤‡∏ô',price:69},{name:'‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏ó‡∏£‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á',price:69},{name:'‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏ô‡πâ‡∏≥‡∏õ‡∏•‡∏≤‡∏´‡∏ß‡∏≤‡∏ô',price:69},{name:'‡∏™‡πâ‡∏°‡πÑ‡∏ï‡πâ‡∏´‡∏ß‡∏±‡∏ô‡πÄ‡∏•‡πá‡∏Å',price:49},{name:'‡∏™‡πâ‡∏°‡πÑ‡∏ï‡πâ‡∏´‡∏ß‡∏±‡∏ô‡πÉ‡∏´‡∏ç‡πà',price:89},{name:'‡∏™‡πâ‡∏°‡∏Æ‡∏±‡∏ô‡∏ô‡∏µ‡πà‡πÄ‡∏•‡πá‡∏Å',price:59},{name:'‡∏™‡πâ‡∏°‡∏Æ‡∏±‡∏ô‡∏ô‡∏µ‡πà‡πÉ‡∏´‡∏ç‡πà',price:99}];
  const productsEl=document.getElementById('products');const grandEl=document.getElementById('grandTotal');const shippingEl=document.getElementById('shipping');const toast=document.getElementById('toast');const modal=document.getElementById('modal');const output=document.getElementById('output');
  function formatBaht(n){return '‡∏ø'+Number(n).toLocaleString('th-TH');}
  function recalc(){let sum=0;document.querySelectorAll('.product').forEach(r=>{let inp=r.querySelector('input');let sub=Number(inp.value||0)*Number(inp.dataset.price);r.querySelector('.subtotal').textContent=formatBaht(sub);sum+=sub;});grandEl.textContent=formatBaht(sum+Number(shippingEl.value||0));}
  function render(){productsEl.innerHTML='';PRODUCTS.forEach(p=>{let row=document.createElement('div');row.className='product';row.innerHTML=`<div class="name">${p.name} <span class="price">‡∏ø${p.price}</span></div><div class="step"><button class="dec">‚àí</button><input type="number" min="0" value="0" data-price="${p.price}" data-name="${p.name}"><button class="inc">+</button></div><div class="subtotal">‡∏ø0</div>`;let inp=row.querySelector('input');row.querySelector('.dec').onclick=()=>{inp.value=Math.max(0,inp.value-1);recalc();};row.querySelector('.inc').onclick=()=>{inp.value=Number(inp.value)+1;recalc();};inp.oninput=recalc;productsEl.appendChild(row);});}
  render();recalc();shippingEl.oninput=recalc;
  function build(){let date=document.getElementById('date').value;let name=document.getElementById('name').value;let phone=document.getElementById('phone').value;let addr=document.getElementById('address').value;let ship=Number(shippingEl.value||0);let lines=[];let total=0;document.querySelectorAll('#products input').forEach(inp=>{let q=Number(inp.value||0);if(q>0){let sub=q*Number(inp.dataset.price);total+=sub;lines.push(`${inp.dataset.name} (x${q}) - ‡∏ø${sub}`);}});if(!lines.length){toast.classList.add('show');setTimeout(()=>toast.classList.remove('show'),1300);return;}let all=total+ship;output.value=`‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${date}\nORDER ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ${name}\n‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ ${phone}\n‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n${lines.join('\n')}\n‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á : ‡∏ø${ship}\n‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n*** ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏ø${all} ***\n‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\nüìç‡∏™‡πà‡∏á‡∏ó‡∏µ‡πà : ${addr}`;modal.classList.add('open');}
  document.getElementById('buildBtn').onclick=build;document.getElementById('closeBtn').onclick=()=>modal.classList.remove('open');document.getElementById('copyBtn').onclick=()=>{output.select();document.execCommand('copy');toast.classList.add('show');setTimeout(()=>toast.classList.remove('show'),1300);};document.getElementById('resetBtn').onclick=()=>{document.querySelectorAll('input,textarea').forEach(el=>el.value='');render();recalc();modal.classList.remove('open');};
});
</script>
</body>
</html>
