<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover">
<title>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÅ‡∏û‡πá‡∏Å ‚Ä¢ ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≤‡∏ô</title>
<style>
:root {
  --brand:#007aff;         /* iOS blue */
  --bg:#f2f2f7;            /* iOS background */
  --card:#fff;
  --ink:#000;
  --muted:#6e6e73;
  --line:#d2d2d7;
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;}

.appbar{position:sticky;top:0;z-index:10;background:var(--card);padding:14px 20px;font-size:18px;font-weight:700;text-align:center;border-bottom:1px solid var(--line);}
.container{
  padding:12px 16px;
  max-width:920px;
  margin:0 auto;
  padding-bottom:calc(120px + env(safe-area-inset-bottom)); /* ‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ö‡πÅ‡∏ñ‡∏ö‡∏•‡πà‡∏≤‡∏á */
}
.group{margin-bottom:20px;}
.group-title{font-weight:700;font-size:17px;color:var(--ink);margin-bottom:10px;}

.card{background:var(--card);border-radius:18px;padding:12px;box-shadow:0 2px 6px rgba(0,0,0,.06);}
.list{display:grid;gap:12px;}
.row{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-radius:14px;background:#fafafa;transition:.2s;}
.row:active{background:#f0f0f5;}
.name{font-size:16px;font-weight:500;color:var(--ink);}

/* Stepper */
.step{
  display:flex;
  align-items:center;      /* ‡∏à‡∏±‡∏î‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á */
  gap:6px;
}
.step button{
  width:30px;height:30px;border-radius:50%;
  border:1px solid var(--line);background:#fff;cursor:pointer;
  font-size:18px;font-weight:600;color:var(--brand);
  display:flex;align-items:center;justify-content:center;transition:.2s;
}
.step button:active{background:var(--brand);color:#fff;}
.step input{
  width:46px;height:30px;
  text-align:center;border:none;background:transparent;font-size:16px;
  line-height:30px;          /* ‚úÖ ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏û‡∏≠‡∏î‡∏µ */
  margin:0;padding:0;
  font-variant-numeric: tabular-nums;
}
/* ‡∏ï‡∏±‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏®‡∏£‡∏Ç‡∏≠‡∏á number ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏ô‡∏¥‡πà‡∏á ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏î‡∏±‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç */
.step input::-webkit-outer-spin-button,
.step input::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
.step input[type=number]{ -moz-appearance:textfield; }

/* Bottom Sheet */
.sheet{position:fixed;left:0;right:0;bottom:0;z-index:20;background:var(--card);border-top:1px solid var(--line);padding:12px 16px calc(14px + env(safe-area-inset-bottom));display:flex;justify-content:space-between;align-items:center;}
.pill{font-size:15px;color:var(--muted);}
.primary{background:var(--brand);color:#fff;border:none;padding:12px 22px;border-radius:12px;font-weight:600;font-size:16px;cursor:pointer;transition:.2s;}
.primary:active{opacity:.8;}

/* Toast */
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:80px;background:rgba(0,0,0,.8);color:#fff;padding:10px 16px;border-radius:999px;font-size:14px;opacity:0;transition:.2s;z-index:99999;pointer-events:none;}
.toast.show{opacity:1;}

/* Modal */
.modal{position:fixed;inset:0;z-index:50;display:none;background:rgba(0,0,0,.4);backdrop-filter:blur(2px);}
.modal.open{display:grid;place-items:end center;}
.modal .panel{width:100%;max-width:920px;background:#fff;border-radius:20px 20px 0 0;padding:20px 20px calc(28px + env(safe-area-inset-bottom));}
.panel h2{margin:0 0 12px;font-size:18px;font-weight:700;text-align:center;}
.panel textarea{width:100%;min-height:220px;border:none;resize:none;font-size:15px;color:var(--ink);background:#f9f9f9;border-radius:12px;padding:12px;font-family:-apple-system,monospace;}
.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;}
.btn{flex:1;padding:12px;border-radius:12px;border:1px solid var(--line);background:#f2f2f7;font-weight:600;cursor:pointer;text-align:center;}
.btn.danger{background:#fff0f0;color:#d00;}
</style>
</head>
<body>
  <div class="appbar">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å SUPPLY ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ üì¶</div>

  <div class="container" id="container"></div>

  <div class="sheet">
    <div class="pill">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß <span id="countTotal">0</span> ‡∏ä‡∏¥‡πâ‡∏ô</div>
    <button id="buildBtn" class="primary">‡∏™‡∏£‡∏∏‡∏õ</button>
  </div>

  <div id="toast" class="toast">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß</div>

  <div id="modal" class="modal" aria-hidden="true">
    <div class="panel">
      <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h2>
      <textarea id="output" readonly></textarea>
      <div class="actions">
        <button class="btn" id="copyBtn">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
        <button class="btn" id="closeBtn">‡∏õ‡∏¥‡∏î</button>
        <button class="btn danger" id="resetBtn">‡∏•‡πâ‡∏≤‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</button>
      </div>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', ()=>{
  const container = document.getElementById('container');
  const countEl = document.getElementById('countTotal');
  const toast = document.getElementById('toast');
  const modal = document.getElementById('modal');
  const output = document.getElementById('output');

  const GROUPS = [
    { title: '‡∏Å‡∏•‡πà‡∏≠‡∏á', items: ['‡∏Å‡∏•‡πà‡∏≠‡∏á 650ml','‡∏Å‡∏•‡πà‡∏≠‡∏á 750ml','‡∏Å‡∏•‡πà‡∏≠‡∏á 1000ml','‡∏Å‡∏•‡πà‡∏≠‡∏á 1200ml']},
    { title: '‡∏ñ‡πâ‡∏ß‡∏¢', items: ['‡∏ñ‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡∏à‡∏¥‡πâ‡∏° 1oz.','‡∏ñ‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡∏à‡∏¥‡πâ‡∏° 2oz.','‡∏ñ‡πâ‡∏ß‡∏¢‡∏Å‡∏•‡∏° 4oz.','‡∏ù‡∏≤ 75mm']},
    { title: '‡∏ñ‡∏∏‡∏á', items: ['‡∏ñ‡∏∏‡∏á‡πÉ‡∏™‡πÑ‡∏Æ‡πÇ‡∏ã 8*16','‡∏ñ‡∏∏‡∏á‡πÉ‡∏™‡πÑ‡∏Æ‡πÇ‡∏ã 9*18','‡∏ñ‡∏∏‡∏á‡πÉ‡∏™‡πÑ‡∏Æ‡πÇ‡∏ã 12*20']},
    { title: '‡∏≠‡∏∑‡πà‡∏ô ‡πÜ', items: ['‡∏ä‡πâ‡∏≠‡∏ô‡∏™‡πâ‡∏≠‡∏° + ‡∏ó‡∏¥‡∏ä‡∏ä‡∏π‡πà (‡∏™‡∏µ‡∏î‡∏≥)','‡∏ä‡πâ‡∏≠‡∏ô‡∏™‡πâ‡∏≠‡∏° + ‡∏ó‡∏¥‡∏ä‡∏ä‡∏π‡πà (‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß)','‡πÑ‡∏°‡πâ‡∏à‡∏¥‡πâ‡∏°‡∏ú‡∏•‡πÑ‡∏°‡πâ','‡∏ö‡πä‡∏ß‡∏¢‡πÄ‡∏Ñ‡πá‡∏°']},
  ];

  function showToast(msg){ toast.textContent=msg; toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'),1200); }

  function recalcCount(){
    let total=0;
    document.querySelectorAll('input[data-name]').forEach(el=> total+=Number(el.value)||0);
    countEl.textContent=total;
  }

  function makeStep(name){
    const wrap=document.createElement('div');
    wrap.className='row';
    wrap.innerHTML=`
      <div class="name">${name}</div>
      <div class="step">
        <button type="button" class="dec">‚àí</button>
        <input type="number" min="0" step="1" value="0" data-name="${name}">
        <button type="button" class="inc">+</button>
      </div>`;
    const dec=wrap.querySelector('.dec');
    const inc=wrap.querySelector('.inc');
    const inp=wrap.querySelector('input');
    dec.addEventListener('click',()=>{inp.value=Math.max(0,(+inp.value||0)-1);recalcCount();});
    inc.addEventListener('click',()=>{inp.value=(+inp.value||0)+1;recalcCount();});
    inp.addEventListener('input',recalcCount,{passive:true});
    return wrap;
  }

  function render(){
    container.innerHTML='';
    GROUPS.forEach(g=>{
      const block=document.createElement('div');
      block.className='group';
      block.innerHTML=`<div class="group-title">${g.title}</div><div class="card"><div class="list"></div></div>`;
      const list=block.querySelector('.list');
      g.items.forEach(name=> list.appendChild(makeStep(name)));
      container.appendChild(block);
    });
  }

  function openModal(){modal.classList.add('open');modal.setAttribute('aria-hidden','false');}
  function closeModal(){modal.classList.remove('open');modal.setAttribute('aria-hidden','true');}

  function buildSummary(){
    const lines=[];
    document.querySelectorAll('input[data-name]').forEach(inp=>{
      const qty=+inp.value||0;
      if(qty>0) lines.push(`   ‚Ä¢ ${inp.dataset.name} x${qty}`);
    });
    if(!lines.length){showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£');return;}
    output.value=lines.join('\n');
    openModal();
  }

  render();
  document.getElementById('buildBtn').addEventListener('click',buildSummary);
  document.getElementById('closeBtn').addEventListener('click',closeModal);
  document.getElementById('copyBtn').addEventListener('click',async ()=>{
    const text=output.value||'';if(!text.trim())return;
    showToast('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß');try{await navigator.clipboard.writeText(text);}catch(_){output.select();document.execCommand('copy');}
  });
  document.getElementById('resetBtn').addEventListener('click',()=>{
    document.querySelectorAll('input[data-name]').forEach(inp=> inp.value=0);
    recalcCount();closeModal();showToast('‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß');
  });
  modal.addEventListener('click',e=>{if(e.target===modal)closeModal();});
});
</script>
</body>
</html>
